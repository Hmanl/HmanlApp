{"version":3,"sources":["..\\..\\..\\..\\assets\\script/assets\\script\\game.js"],"names":["seedRandom","require","cc","Class","extends","Component","properties","audios","AudioClip","home","Node","rankAni","spine","layout","onLoad","lx","i18n","config","platform","init","language","canvas","node","getComponent","Canvas","sys","isMobile","fitHeight","start","buttonGroup","getChildByName","gift","match","exit","mask","setContentSize","winSize","count","loadRobotInfo","director","preloadScene","loadText","adUnitId","showRewardedVideoAd","set","gameid","parm","scope","success","res","login","sharedCanvas","lexun","judgeSpine","wechat","bind","fail","authorize","sp","Skeleton","animation","active","knock","isValid","destroy","userInfo","getUserInfoSync","spring","revive","gem","skin","date","gender","avatar","headimg","nickName","nick","beginner","matchButton","audioEngine","playMusic","avatar2","index","Math","floor","random","robots","length","robotInfo","localStorage","setItem","JSON","stringify","setMatchInfo","info","node2","sprite","children","Sprite","createImage","Label","string","time","scheduleOnce","Animation","play","sprite2","label2","loader","loadRes","SpriteFrame","err","spriteFrame","wx","vibrateLong","launchOption","getLaunchOptionsSync","query","data","console","log","launch","parse","loadScene","createRobot","t","type","path","robot","push","url","utils","loadImage","image","texture","Texture2D","initWithElement","handleLoadedTexture","onload","src","exitButton","currPanel","rankButton","rank","skinButton","giftButton","Date","getTime","addItem","setTooltip","navigate","navigateToMiniProgram","appId","navigate2","str","activeInHierarchy","finished","callFunc","setPosition","action","sequence","moveBy","v2","delayTime","runAction","systemInfo","getSystemInfoSync","num","parseInt","SDKVersion","replace","getSetting","authSetting","getUserInfo","res2","initialization","craeteButton","button","createUserInfoButton","text","style","left","top","width","screenWidth","height","screenHeight","onTap","getItem","avatarUrl","skinLocks","shareText","shareText_E"],"mappings":"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","file":"game.js","sourceRoot":"..\\..\\..\\..\\assets\\script","sourcesContent":["var seedRandom = require(\"seedRandom\");\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {        \r\n        audios:cc.AudioClip, \r\n        home:cc.Node,\r\n        rankAni:cc.Node,\r\n        spine:cc.Node,\r\n        layout : cc.Node,\r\n    },\r\n\r\n    onLoad(){\r\n        lx.i18n = require('LanguageData');\r\n        if(lx.config.platform==\"fbinstant\"){\r\n            lx.i18n.init('en');\r\n            lx.language=\"en\";\r\n        }\r\n        else{\r\n            lx.i18n.init('zh');\r\n            lx.language=\"zh\";\r\n        }\r\n        var canvas = this.node.getComponent(cc.Canvas);\r\n        if(!cc.sys.isMobile){            \r\n            canvas.fitHeight = true;\r\n        }\r\n    },\r\n\r\n    start () { \r\n        // this.buttonGroup = this.layout.getChildByName('buttonGroup');\r\n        this.buttonGroup = this.layout.getChildByName('buttonGroup');\r\n        this.gift = this.layout.getChildByName('gift');\r\n        this.match = this.layout.getChildByName('match');\r\n        this.exit = this.layout.getChildByName('exit');\r\n        this.mask = this.layout.getChildByName('mask');\r\n        // this.layout.getChildByName('bg').setContentSize(cc.winSize);\r\n        this.layout.getChildByName('bg').setContentSize(cc.winSize);\r\n        this.mask.setContentSize(cc.winSize);\r\n        this.count = 1; \r\n        this.loadRobotInfo();               \r\n        cc.director.preloadScene(\"main\");\r\n        this.loadText();\r\n        \r\n        var adUnitId = \"\";\r\n        //版本高此方法才存在\r\n        if(lx.showRewardedVideoAd){\r\n            switch(lx.config.platform){\r\n                case \"fbinstant\":\r\n                    adUnitId = \"1463699723764796_1463740947094007\";\r\n                    break;\r\n                case \"weixin\":\r\n                    adUnitId = \"adunit-f2b4d92431c80b1e\";\r\n                    break;\r\n            }\r\n        }\r\n\r\n        lx.config.set({\r\n            gameid: 100300,\r\n            adUnitId: adUnitId,\r\n        });\r\n        \r\n        var parm = {\r\n            scope: \"scope.userInfo\",\r\n\r\n            success:function(res){         \r\n                //弹出乐讯登陆框\r\n                    lx.login({\r\n                    success:function(res){\r\n                        if(typeof(sharedCanvas) == 'undefined'){\r\n                            this.lexun();\r\n                            this.judgeSpine();\r\n                        }else{\r\n                            this.wechat();\r\n                        }\r\n                \r\n                    }.bind(this)\r\n\r\n                });\r\n            }.bind(this),\r\n\r\n            fail:function(){\r\n                lx.authorize(parm);\r\n            },\r\n        };\r\n\r\n        lx.authorize(parm);\r\n        \r\n\r\n\r\n    },\r\n\r\n    //主页动画判断\r\n    judgeSpine:function(){\r\n        if(lx.language==\"zh\"){\r\n            //中文\r\n            this.home.getComponent(sp.Skeleton).animation = \"button_start\";\r\n            this.rankAni.getComponent(sp.Skeleton).animation = \"button_rankings\";\r\n            \r\n        }\r\n        else{\r\n            //英文\r\n            this.home.getComponent(sp.Skeleton).animation = 'button_start_E';\r\n            this.rankAni.getComponent(sp.Skeleton).animation = \"button_rankings_E\";\r\n        }\r\n    },\r\n\r\n    lexun(){\r\n        this.buttonGroup.active = true;\r\n        var knock =  this.layout.getChildByName('knock');\r\n        if(cc.isValid(knock))\r\n        knock.destroy();\r\n        this.buttonGroup.getChildByName('gameBox').active = false;\r\n        this.buttonGroup.getChildByName('box3').active = false;\r\n        this.buttonGroup.getChildByName('shareButton').active = false;\r\n        var userInfo = lx.getUserInfoSync();\r\n        this.userInfo = {\r\n            spring:0,\r\n            revive:0,\r\n            gem:0,\r\n            skin:0,\r\n            date:111,\r\n            gender: userInfo.gender,\r\n            avatar: userInfo.headimg,\r\n            nickName: userInfo.nick,\r\n            beginner:0, \r\n        };\r\n        if(this.userInfo.gender == 0)\r\n        this.userInfo.gender = 1;     \r\n        \r\n    },\r\n    \r\n    matchButton(){        \r\n        cc.audioEngine.playMusic(this.audios,false);\r\n        this.buttonGroup.active = false;\r\n        this.match.active = true;\r\n        this.match.getChildByName('bg').setContentSize(cc.winSize);        \r\n        var avatar = this.match.getChildByName('sub').getChildByName('avatar');\r\n        var avatar2 = this.match.getChildByName('sub').getChildByName('avatar2');                \r\n        var index = Math.floor(Math.random()*this.robots[this.userInfo.gender-1].length);                \r\n        var robotInfo = this.robots[this.userInfo.gender-1][index];\r\n        localStorage.setItem('robot',index);\r\n \r\n        var userInfo = JSON.stringify(this.userInfo);\r\n        localStorage.setItem('userInfo2',userInfo);    \r\n        this.userInfo.gender == 1?this.setMatchInfo(avatar2,robotInfo,avatar,this.userInfo):\r\n        this.setMatchInfo(avatar,robotInfo,avatar2,this.userInfo);                 \r\n    },\r\n    \r\n    setMatchInfo(node,info,node2,userInfo){\r\n        var sprite = node2.children[0].children[0].getComponent(cc.Sprite);\r\n        this.createImage(sprite,userInfo.avatar);\r\n        node2.children[1].children[0].getComponent(cc.Label).string = userInfo.nickName;\r\n        var time = Math.random()*3;    \r\n\r\n        if(lx.language==\"zh\"){\r\n             //中文\r\n             this.spine.getComponent(sp.Skeleton).animation = 'matching_loop';      \r\n        }\r\n        else{\r\n             //英文\r\n             this.spine.getComponent(sp.Skeleton).animation = 'matching_loop_E';    \r\n        }\r\n\r\n        sprite.scheduleOnce(function(){                      \r\n         \r\n            if(lx.language==\"zh\"){\r\n                //中文\r\n                this.match.getChildByName('spine').getComponent(sp.Skeleton).animation = 'matching_start';                \r\n            }                \r\n            else{\r\n                //英文\r\n                this.match.getChildByName('spine').getComponent(sp.Skeleton).animation = 'matching_start_E';                \r\n            }\r\n            \r\n            this.match.getChildByName('sub').getComponent(cc.Animation).play();\r\n            var sprite2 = node.children[0].children[0].getComponent(cc.Sprite);\r\n            var label2 = node.children[1].children[0].getComponent(cc.Label);\r\n            if(typeof(sharedCanvas) == 'undefined'){\r\n                cc.loader.loadRes(info.avatar, cc.SpriteFrame, function (err, spriteFrame) {\r\n                    if(cc.isValid(sprite2.node))\r\n                    sprite2.spriteFrame = spriteFrame;\r\n                });\r\n                label2.string = info.nickName;\r\n            }else{\r\n                wx.vibrateLong();\r\n                var launchOption = wx.getLaunchOptionsSync();            \r\n                if(launchOption.query.data){\r\n                    console.log(launchOption.query);            \r\n                    var launch = JSON.parse(launchOption.query.data);                \r\n                    this.createImage(sprite2,launch.avatar);\r\n                    label2.string = launch.nickName;           \r\n                }else{\r\n                    cc.loader.loadRes(info.avatar, cc.SpriteFrame, function (err, spriteFrame) {\r\n                        if(cc.isValid(sprite2.node))\r\n                        sprite2.spriteFrame = spriteFrame;\r\n                    });\r\n                    label2.string = info.nickName;\r\n                }\r\n            }\r\n            sprite.scheduleOnce(function(){                \r\n                cc.director.loadScene(\"main\");\r\n            },1.5);\r\n        }.bind(this),time);\r\n    },\r\n    \r\n    loadRobotInfo(){        \r\n        this.robots = [[],[]];        \r\n        this.createRobot(1,'avatar/0',lx.i18n.t(\"label_text.robotId_1\"));        \r\n        this.createRobot(0,'avatar/1',lx.i18n.t(\"label_text.robotId_2\"));\r\n        this.createRobot(1,'avatar/2',lx.i18n.t(\"label_text.robotId_3\"));\r\n        this.createRobot(1,'avatar/3',lx.i18n.t(\"label_text.robotId_4\"));\r\n        this.createRobot(0,'avatar/4',lx.i18n.t(\"label_text.robotId_5\"));\r\n        this.createRobot(0,'avatar/5',lx.i18n.t(\"label_text.robotId_6\"));\r\n        this.createRobot(1,'avatar/6',lx.i18n.t(\"label_text.robotId_7\"));\r\n        this.createRobot(0,'avatar/7',lx.i18n.t(\"label_text.robotId_8\"));\r\n        this.createRobot(0,'avatar/8',lx.i18n.t(\"label_text.robotId_9\"));\r\n        this.createRobot(0,'avatar/9',lx.i18n.t(\"label_text.robotId_10\"));        \r\n    },\r\n\r\n    createRobot(type,path,nickName){    \r\n        var robot = {\r\n            avatar:path,\r\n            nickName:nickName,\r\n        };\r\n        this.robots[type].push(robot);\r\n    },   \r\n    \r\n    createImage: function(sprite, url){\r\n        if(typeof(sharedCanvas) == 'undefined'){\r\n            lx.utils.loadImage({\r\n                url: url,\r\n                success : function(image){\r\n                    if(image){\r\n                        var texture = new cc.Texture2D();\r\n                        texture.initWithElement(image);\r\n                        texture.handleLoadedTexture();\r\n                        sprite.spriteFrame = new cc.SpriteFrame(texture);\r\n                    }\r\n                }\r\n            });\r\n        }else{\r\n            if(url){\r\n                let image = wx.createImage();       \r\n                image.onload = function () {\r\n                    let texture = new cc.Texture2D();\r\n                    texture.initWithElement(image);\r\n                    texture.handleLoadedTexture();\r\n                    if(cc.isValid(sprite.node))\r\n                    sprite.spriteFrame = new cc.SpriteFrame(texture);\r\n                };\r\n                image.src = url;\r\n            }\r\n        }        \r\n    },\r\n\r\n    exitButton(){        \r\n        this.buttonGroup.active = true;\r\n        if(cc.isValid(this.currPanel))\r\n        this.currPanel.active = false;\r\n        this.exit.active = false;\r\n        this.mask.active = false;   \r\n    },\r\n\r\n    rankButton(){\r\n        this.mask.active = true;\r\n        this.buttonGroup.active = false;        \r\n        var rank = this.layout.getChildByName('subCanvas');\r\n        rank.active = true;        \r\n        this.exit.active = true;\r\n        this.currPanel = rank;\r\n    },\r\n\r\n    skinButton(){\r\n        this.buttonGroup.active = false;\r\n        var skin = this.layout.getChildByName('skin');\r\n        skin.active = true;\r\n        this.exit.active = true;\r\n        this.currPanel = skin;\r\n    },\r\n\r\n    giftButton(){\r\n        var date = Math.floor((new Date()).getTime() / 86400000);\r\n        if(date - this.userInfo.date > 0){\r\n            this.count --;\r\n            this.addItem();\r\n            if(this.count == 0)\r\n            this.userInfo.date = date;\r\n        }else{\r\n            this.buttonGroup.active = false;\r\n            this.gift.active = true;\r\n            this.currPanel = this.gift;\r\n            this.mask.active = true;\r\n        }        \r\n    },\r\n\r\n    addItem(){\r\n        this.userInfo.spring += 3;\r\n        this.userInfo.revive += 1;\r\n        if(this.userInfo.spring >10)\r\n            this.userInfo.spring = 10;\r\n        if(this.userInfo.revive > 5)\r\n            this.userInfo.revive = 5;\r\n        this.userInfo.spring < 10 || this.userInfo.revive < 5?\r\n        this.setTooltip(lx.i18n.t(\"label_text.Resurrection_1\")):this.setTooltip(lx.i18n.t(\"label_text.Resurrection_2\"));\r\n        this.exitButton();        \r\n    },\r\n\r\n\r\n    navigate(){\r\n        wx.navigateToMiniProgram({\r\n            appId:'wxf925857e2463adc5',\r\n            path:'pages/index/index',\r\n        });\r\n    },\r\n\r\n    navigate2(){\r\n        wx.navigateToMiniProgram({\r\n            appId:'wxe8a45bddfbf0b97b',\r\n        });\r\n    },\r\n\r\n\r\n    setTooltip(str){        \r\n        var node = this.layout.getChildByName('label');       \r\n        if(!node.activeInHierarchy){\r\n            node.active = true;              \r\n            node.children[0].getComponent(cc.Label).string = str;\r\n            var finished = cc.callFunc(function(){\r\n                node.setPosition(-700,0);\r\n                node.active = false;\r\n            },this)            \r\n            var action = cc.sequence(                \r\n                cc.moveBy(0.3,cc.v2(700,0)),\r\n                cc.delayTime(2),\r\n                cc.moveBy(0.3,cc.v2(700,0)),\r\n                finished                \r\n            );\r\n            node.runAction(action);\r\n        }\r\n    },\r\n    \r\n    wechat(){\r\n        var systemInfo = wx.getSystemInfoSync();\r\n        var num = parseInt(systemInfo.SDKVersion.replace(/\\./g,''));\r\n        if(num>=201){\r\n            wx.getSetting({\r\n                success: function (res) {\r\n                    var authSetting = res.authSetting\r\n                    if (authSetting['scope.userInfo'] === true) {\r\n                        wx.getUserInfo({                                                        \r\n                            success:function(res2){                                \r\n                                this.initialization(res2);\r\n                            }.bind(this),\r\n                        })\r\n                    } else if (authSetting['scope.userInfo'] === false){\r\n                        this.craeteButton();\r\n                    } else {\r\n                        this.craeteButton();\r\n                    }\r\n                }.bind(this)\r\n            });                      \r\n        }\r\n    },\r\n\r\n    craeteButton(){\r\n        var systemInfo = wx.getSystemInfoSync();\r\n        let button = wx.createUserInfoButton({\r\n            type:'text',\r\n            text:'',\r\n            style:{\r\n                left: 0,\r\n                top: 0,\r\n                width: systemInfo.screenWidth,\r\n                height:systemInfo.screenHeight,                    \r\n            }\r\n        });\r\n        button.onTap(function(res){\r\n            wx.getSetting({\r\n                success: function (res2) {\r\n                    var authSetting = res2.authSetting;\r\n                    if (authSetting['scope.userInfo'] == true){\r\n                        button.destroy();\r\n                        this.initialization(res);  \r\n                    }                   \r\n                }.bind(this),\r\n            });                \r\n        }.bind(this));\r\n    },\r\n\r\n    initialization(res){\r\n        var knock =  this.layout.getChildByName('knock');\r\n        if(cc.isValid(knock))\r\n        knock.destroy();\r\n        var userInfo = localStorage.getItem('userInfo2');        \r\n        var date = Math.floor((new Date()).getTime() / 86400000);        \r\n        if(userInfo){\r\n            this.userInfo = JSON.parse(userInfo);\r\n        }else{\r\n            userInfo = {\r\n                spring:0,\r\n                revive:0,\r\n                gem:0,\r\n                skin:0,\r\n                date:date,\r\n                gender:res.userInfo.gender,\r\n                avatar:res.userInfo.avatarUrl,\r\n                nickName:res.userInfo.nickName,\r\n                beginner:0,\r\n                skinLocks:[true,false,false,false,false,false,false,false,false],                \r\n            }\r\n            if(userInfo.gender == 0)\r\n                userInfo.gender = 1;\r\n            this.userInfo = userInfo; \r\n        }\r\n        this.buttonGroup.active = true;                                     \r\n    },\r\n\r\n    loadText(){\r\n        this.shareText = [            \r\n            {\r\n                str:lx.i18n.t(\"label_text.shareText1\"),\r\n                url:'https://h5.lexun.com/games/wx/avatar/share4.jpg',\r\n            },        \r\n            {\r\n                str:lx.i18n.t(\"label_text.shareText2\"),\r\n                url:'https://h5.lexun.com/games/wx/avatar/g01.jpg',\r\n            },                       \r\n            {\r\n                str:lx.i18n.t(\"label_text.shareText3\"),\r\n                url:'https://h5.lexun.com/games/wx/avatar/g03.jpg',\r\n            },\r\n            {\r\n                str:lx.i18n.t(\"label_text.shareText4\"),\r\n                url:'https://h5.lexun.com/games/wx/avatar/g05.jpg',\r\n            },\r\n            {\r\n                str:lx.i18n.t(\"label_text.shareText5\"),\r\n                url:'https://h5.lexun.com/games/wx/avatar/g06.jpg',\r\n            },\r\n            {\r\n                str:lx.i18n.t(\"label_text.shareText6\"),\r\n                url:'https://h5.lexun.com/games/wx/avatar/g07.jpg',\r\n            },\r\n            {\r\n                str:lx.i18n.t(\"label_text.shareText7\"),\r\n                url:'https://h5.lexun.com/games/wx/avatar/g08.jpg',\r\n            }, \r\n            {\r\n                str:lx.i18n.t(\"label_text.shareText8\"),\r\n                url:'https://h5.lexun.com/games/wx/avatar/g09.jpg',\r\n            },\r\n            {\r\n                str:lx.i18n.t(\"label_text.shareText9\"),\r\n                url:'https://h5.lexun.com/games/wx/avatar/g10.jpg',\r\n            }, \r\n            {\r\n                str:lx.i18n.t(\"label_text.shareText10\"),\r\n                url:'https://h5.lexun.com/games/wx/avatar/g11.jpg',\r\n            },\r\n            {\r\n                str:lx.i18n.t(\"label_text.shareText11\"),\r\n                url:'https://h5.lexun.com/games/wx/avatar/g12.jpg',\r\n            },\r\n            {\r\n                str:lx.i18n.t(\"label_text.shareText12\"),\r\n                url:'https://h5.lexun.com/games/wx/avatar/g13.jpg',\r\n            },\r\n            {\r\n                str:lx.i18n.t(\"label_text.shareText13\"),\r\n                url:'https://h5.lexun.com/games/wx/avatar/g14.jpg',\r\n            }   \r\n        ];\r\n            //英文\r\n        this.shareText_E = [            \r\n            {\r\n                str:lx.i18n.t(\"label_text.shareText1\"),\r\n                url:'https://h5.lexun.com/games/fb/avatar/g01.jpg',\r\n            },        \r\n            {\r\n                str:lx.i18n.t(\"label_text.shareText1\"),\r\n                url:'https://h5.lexun.com/games/fb/avatar/g01.jpg',\r\n            },                       \r\n            {\r\n                str:lx.i18n.t(\"label_text.shareText1\"),\r\n                url:'https://h5.lexun.com/games/fb/avatar/g01.jpg',\r\n            },\r\n            {\r\n                str:lx.i18n.t(\"label_text.shareText1\"),\r\n                url:'https://h5.lexun.com/games/fb/avatar/g01.jpg',\r\n            },\r\n            {\r\n                str:lx.i18n.t(\"label_text.shareText1\"),\r\n                url:'https://h5.lexun.com/games/fb/avatar/g01.jpg',\r\n            },\r\n            {\r\n                str:lx.i18n.t(\"label_text.shareText1\"),\r\n                url:'https://h5.lexun.com/games/fb/avatar/g01.jpg',\r\n            },\r\n            {\r\n                str:lx.i18n.t(\"label_text.shareText1\"),\r\n                url:'https://h5.lexun.com/games/fb/avatar/g01.jpg',\r\n            }, \r\n            {\r\n                str:lx.i18n.t(\"label_text.shareText1\"),\r\n                url:'https://h5.lexun.com/games/fb/avatar/g01.jpg',\r\n            },\r\n            {\r\n                str:lx.i18n.t(\"label_text.shareText1\"),\r\n                url:'https://h5.lexun.com/games/fb/avatar/g01.jpg',\r\n            }, \r\n            {\r\n                str:lx.i18n.t(\"label_text.shareText1\"),\r\n                url:'https://h5.lexun.com/games/fb/avatar/g01.jpg',\r\n            },\r\n            {\r\n                str:lx.i18n.t(\"label_text.shareText1\"),\r\n                url:'https://h5.lexun.com/games/fb/avatar/g01.jpg',\r\n            },\r\n            {\r\n                str:lx.i18n.t(\"label_text.shareText1\"),\r\n                url:'https://h5.lexun.com/games/fb/avatar/g01.jpg',\r\n            },\r\n            {\r\n                str:lx.i18n.t(\"label_text.shareText1\"),\r\n                url:'https://h5.lexun.com/games/fb/avatar/g01.jpg',\r\n            }    \r\n        ];\r\n        \r\n    },\r\n\r\n});"]}