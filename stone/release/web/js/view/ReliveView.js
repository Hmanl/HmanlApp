!function(){function e(){e.__super.call(this),this.init()}Laya.class(e,"ReliveView",reliveViewUI);var a=e.prototype;a.init=function(){Config.scaleBtn(this.passBtn,this.overShow,this),this.theMask.on(Laya.Event.MOUSE_MOVE,this,function(e){e.stopPropagation()});var e=lx.getStorageSync("reliveCoins");e=JSON.parse(e),console.log(e),e&&(this.liveNum.text=e.reliveCoins,0==Number(e.reliveCoins)?(this.tips.visible=!0,console.log(this.tips.visible)):(this.tips.visible=!1,Config.scaleBtn(this.reliveBtn,this.againGame,this)))},a.againGame=function(e){Config.istake=!1;var a=LayaAir3D.dieFloorList,t=a[a.length-1].x,i=a[a.length-1].y,s=a[a.length-1].z;LayaAir3D.ball.transform.position=new Laya.Vector3(t,i+.3,s),LayaAir3D.camera.transform.position=new Laya.Vector3(t,i+1.9,s+1.1),e.removeSelf(),LayaAir3D.ball.getComponentByType(BallScript).maskFlag=!1,LayaAir3D.ball.getComponentByType(BallScript).liveFlag=!0;var r=lx.getStorageSync("reliveCoins");r=JSON.parse(r),reliveCoinsdata={reliveCoins:Number(r.reliveCoins)-1,istake:!1},lx.setStorageSync("reliveCoins",JSON.stringify(reliveCoinsdata))},a.overShow=function(e){e.removeSelf(),e.beginFunDeath()},a.beginFunDeath=function(){Laya.gameOver.visible=!0,Laya.gameOver.endScore.text="最终得分："+Laya.gameView.score.text,Laya.Browser.onWeiXin&&lx.postMessage({message:JSON.stringify({tag:"postUserScore",data:{score:Laya.gameView.score.text}})});var e=lx.getStorageSync("highScore");e?(Number(e)<Number(Laya.gameView.score.text)&&lx.setStorageSync("highScore",Laya.gameView.score.text),Laya.gameOver.hisScore.text="历史最高分："+e):(Laya.gameOver.hisScore.text="历史最高分：0",lx.setStorageSync("highScore",Laya.gameView.score.text));var a,t=Laya.gameView.score.text,i=lx.getStorageSync("skinListData");a=i?JSON.parse(i):Config.skinList;for(var s=0;s<a.length;s++){var r=a[s];0==r.btnStatus&&r.coinNums<=Number(t)&&(r.btnStatus=2,a[s]=r)}lx.setStorageSync("skinListData",JSON.stringify(a)),lx.postMessage({message:JSON.stringify({tag:"getUserScore"})}),LayaAir3D.prototype.showRank("getSmallRankList")}}();